<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ice="http://www.icesoft.com/icefaces/component">
<h:head>
	<title>ICEfaces Ver Registros</title>
	<ice:outputStyle href="./xmlhttp/css/rime/rime.css" />
</h:head>
<h:body>
	<ice:graphicImage url="img/baner.jpg" />
	<ace:panel style="text-aling :center">
		<ice:outputLabel>Ver registros de la base de datos</ice:outputLabel>
	</ace:panel>
	<ace:panel>
		<h:panelGrid columns="1">
			<h:form id="form">
				<style type="text/css">
/* Important required because row */
.ui-datatable-odd {
	background-color: lightgray !important;
	background-position-y: -1400px; /* IE7 hack */
}
</style>

				<ace:dataTable id="tablaUsuarios" var="usu" name = "tablaUsuario" 
									value="#{bdconection.lista}" style="margin: 0 auto;">
					<ace:ajax execute="@this" render="tablaUsuarios" />
					<ace:column id="nombre">
						<f:facet name="header">
                       Nombre
                    </f:facet>
						<ace:cellEditor>
							<f:facet name="output">
								<h:outputText id="nombreCell" value="#{usu.nombre}" />
							</f:facet>
							<f:facet name="input">
								<h:inputText id="nombreInput" value="#{usu.nombre}"
									style="width:90%" binding="#{nombre}" />
							</f:facet>
						</ace:cellEditor>
					</ace:column>
					<ace:column id="apellido">
						<f:facet name="header">
                       Apellido
                    </f:facet>
						<ace:cellEditor>
							<f:facet name="output">
								<h:outputText id="apellidoCell" value="#{usu.apellido}" />
							</f:facet>
							<f:facet name="input">
								<h:inputText id="apellidoInput" value="#{usu.apellido}"
									style="width:90%" binding="#{apellido}" />
							</f:facet>
						</ace:cellEditor>
					</ace:column>
					<ace:column id="fecha">
						<f:facet name="header">
                       Fecha
                    </f:facet>
						<ace:cellEditor>
							<f:facet name="output">
								<h:outputText id="fechaCell" value="#{usu.fecha}" />
							</f:facet>
							<f:facet name="input">
								<ace:dateTimeEntry id="fechaInput" binding="#{fecha}"
									value="#{dateMinMaxBean.maxDate}" timeZone="Canada/Mountain"
									pattern="dd/MMM/yyyy" navigator="true" readOnlyInputText="true"
									renderAsPopup="true" mindate="#{dateMinMaxBean.minDate}"
									maxdate="#{dateMinMaxBean.maxDate}" />
							</f:facet>
						</ace:cellEditor>
					</ace:column>
					<ace:column id="identificacion">
						<f:facet name="header">
                       Identificacion
                    </f:facet>
						<ace:cellEditor>
							<f:facet name="output">
								<h:outputText id="identificacionCell"
									value="#{usu.identificacion}" />
							</f:facet>
							<f:facet name="input">
								<h:inputText id="identificacionInput"
									value="#{usu.identificacion}" style="width:90%"
									binding="#{identificacion}" />
							</f:facet>
						</ace:cellEditor>
					</ace:column>
					<ace:column id="telefono">
						<f:facet name="header">
                       Telefono
                    </f:facet>
						<ace:cellEditor>
							<f:facet name="output">
								<h:outputText id="telefonoCell" value="#{usu.telefono}" />
							</f:facet>
							<f:facet name="input">
								<h:inputText id="telefonoInput" value="#{usu.telefono}"
									style="width:90%" binding="#{telefono}" />
							</f:facet>
						</ace:cellEditor>
					</ace:column>
					<ace:column id="correo">
						<f:facet name="header">
                       Correo
                    </f:facet>
						<ace:cellEditor>
							<f:facet name="output">
								<h:outputText id="correoCell" value="#{usu.correo}" />
							</f:facet>
							<f:facet name="input">
								<h:inputText id="correoInput" value="#{usu.correo}"
									style="width:90%" binding="#{correo}" />
							</f:facet>
						</ace:cellEditor>
					</ace:column>
					<ace:column id="nickname" headerText="Nickname">
						<h:outputText id="nicknameCell" value="#{usu.nickname}"
							binding="#{nickname}" />
					</ace:column>
					<ace:column id="contraseña">
						<f:facet name="header">
                       Contraseña
                    </f:facet>
						<ace:cellEditor>
							<f:facet name="output">
								<h:outputText id="contraseñaCell" value="#{usu.contraseña1}" />
							</f:facet>
							<f:facet name="input">
								<h:inputText id="contraseñaInput" value="#{usu.contraseña1}"
									style="width:90%" binding="#{contrasena}" />
							</f:facet>
						</ace:cellEditor>
					</ace:column>
					<ace:column headerText="Editar">
						<ace:rowEditor id="rowEdit"
							rowEditListener="#{bdconection.actualizar(nombre.value, apellido.value, fecha.value, identificacion.value, telefono.value, correo.value, contrasena.value, nickname.value)}" />
					</ace:column>
					<ace:column id="eliminar" headerText="Eliminar">
						<ace:ajax event ="action">
							<ace:linkButton id="eliminarBtn" value="eliminar" 
								actionListener="#{bdconection.eliminar(nickname.value)}" >
								<f:ajax render="@tablaUsuario" execute="@this"/>
								</ace:linkButton>
								
						</ace:ajax>
					</ace:column>
				</ace:dataTable>
			</h:form>
		</h:panelGrid>
	</ace:panel>
</h:body>
</html>